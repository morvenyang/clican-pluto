<?xml version="1.0" encoding="UTF-8"?>
<atv>
<head>
<%if(channel['value']==1001){%>
<script src="<%=serverurl%>/javascript/clican.js"/>
<%}%>
<script src="<%=serverurl%>/javascript/ejs.js"/>
<script src="<%=serverurl%>/javascript/qq.js"/>
</head>
<body>
<scroller id="com.sample.movie-shelf">
	<items>
		<shelf id="menu_bar">
			<sections>
				<shelfSection>
					<items>
						<%for(var i=0;i<channels.length;i++){%>
							<%if(channels[i]['value']==1001){%>
								<moviePoster id="shelf_item_<%=channels[i]['value']%>" alwaysShowTitles="true" featured="true" onSelect="qqClient.loadSearchPage();" onPlay="qqClient.loadSearchPage();">
									<title><%=channels[i]['label']%></title>
									<image><%=serverurl%>/image/qq/channel/channel_<%=channels[i]['value']%>.png</image>
									<defaultImage>resource://Poster.png</defaultImage>
								</moviePoster>
							<%}else{%>
								<moviePoster id="shelf_item_<%=channels[i]['value']%>" alwaysShowTitles="true" featured="true" onSelect="qqClient.loadIndexPage('',0,channel['value']);" onPlay="qqClient.loadIndexPage('',0,channel['value']);">
									<title><%=channels[i]['label']%></title>
									<image><%=serverurl%>/image/qq/channel/channel_<%=channels[i]['value']%>.png</image>
									<defaultImage>resource://Poster.png</defaultImage>
								</moviePoster>
							<%}%>
						<%}%>
					</items>
				</shelfSection>
			</sections>
		</shelf>
		<%if(channel['value']!=3){%>
		<grid id="grid_1" columnCount="12">
			<items>
				<actionButton id="shelf_item_first_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',0,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',0,<%=channel['value']%>);">
					<title>第一页</title>
				</actionButton>
				<%for(var i=begin;i<end;i++){%>
					<actionButton id="shelf_item_<%=i%>_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',<%=i%>,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',<%=i%>,<%=channel['value']%>);">
						<title><%=i+1%></title>
					</actionButton>
				<%}%>
				<actionButton id="shelf_item_last_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',99,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',99,<%=channel['value']%>);">
					<title>最后页</title>
				</actionButton>
			</items>
		</grid>
		<%}%>
		<grid id="grid_2" columnCount="6">
			<items>
				<%for(var i=0;i<videos.length;i++){%>
						<%if(videos[i].album){%>
							<moviePoster id="shelf_item_<%=videos[i]['id']%>" alwaysShowTitles="true" onSelect="qqClient.loadAlbumPage('<%=videos[i]['id']%>');" onPlay="qqClient.loadAlbumPage('<%=videos[i]['id']%>');">
								<title><![CDATA[<%=videos[i].title%>]]></title>
								<image><%=videos[i].pic%></image>
								<defaultImage>resource://Poster.png</defaultImage>
							</moviePoster>
						<%}else{%>
							<moviePoster id="shelf_item_<%=videos[i]['id']%>" alwaysShowTitles="true" onSelect="qqClient.playVideo('<%=videos[i]['id']%>');" onPlay="qqClient.playVideo('<%=videos[i]['id']%>');">
								<title><![CDATA[<%=videos[i].title%>]]></title>
								<subtitle><![CDATA[<%=videos[i].subTitle%>]]></subtitle>
								<image><%=videos[i].pic%></image>
								<defaultImage>resource://Poster.png</defaultImage>
							</moviePoster>
						<%}%>
				<%}%>
			</items>
		</grid>
		<%if(channel['value']!=3){%>
		<grid id="grid_3" columnCount="12">
			<items>
				<actionButton id="shelf_item_first_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',0,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',0,<%=channel['value']%>);">
					<title>第一页</title>
				</actionButton>
				<%for(var i=begin;i<end;i++){%>
					<actionButton id="shelf_item_<%=i%>_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',<%=i%>,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',<%=i%>,<%=channel['value']%>);">
						<title><%=i+1%></title>
					</actionButton>
				<%}%>
				<actionButton id="shelf_item_last_page" onSelect="qqClient.loadIndexPage('<%=keyword%>',99,<%=channel['value']%>);" onPlay="qqClient.loadIndexPage('<%=keyword%>',99,<%=channel['value']%>);">
					<title>最后页</title>
				</actionButton>
			</items>
		</grid>
		<%}%>
	</items>
</scroller>
</body>
</atv>
